{#
/**
* @file
* Contains the third-party service includes.
*
* Available variables:
* - service_livechat_includes
* - service_mainstay_includes
* - service_statuspage_includes
*/
#}

{# LiveChat #}
{% if service_livechat_includes|length > 0 %}
  {{ attach_library('ucb_site_configuration/service-livechat') }}
  {% for service in service_livechat_includes %}
    <script type="text/javascript">
      window.__lc = {{
        { 'license': service.service_settings.license_id }|json_encode|raw
      }};
    </script>
  {% endfor %}
{% endif %}

{# Mainstay #}
{% if service_mainstay_includes|length > 0 %}
  {{ attach_library('ucb_site_configuration/service-mainstay') }}
  {% for service in service_mainstay_includes %}
    <script type="text/javascript">
      window.admitHubBot = {{
        { 'botToken': service.service_settings.bot_token, 'collegeId': service.service_settings.college_id }|json_encode|raw
      }};
    </script>
  {% endfor %}
{% endif %} 

{# StatusPage #}
{% if service_statuspage_includes|length > 0 %}
  {% for service in service_statuspage_includes %}
    <script type="text/javascript" src="https://{{ service.service_settings.page_id }}.statuspage.io/embed/script.js" async defer></script>
  {% endfor %}
{% endif %} 
